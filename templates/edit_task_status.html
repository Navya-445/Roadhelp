{% extends 'base_admin.html' %}
{% block content %}

<h2>Edit Task Status</h2>

<!-- Success and Error Messages -->
{% if messages %}
    {% for message in messages %}
        <p style="color: {% if message.tags == 'success' %}green{% else %}red{% endif %};">
            {{ message }}
        </p>
    {% endfor %}
{% endif %}

<form method="post">
    {% csrf_token %}
    
    <label>Service: {{ task.service_request.service.name }}</label><br>
    <label>Mechanic: {{ task.mechanic.first_name }} {{ task.mechanic.last_name }}</label><br>

    <label>Update Status:</label>
    <select name="status">
        <option value="Pending" {% if task.status == 'Pending' %}selected{% endif %}>Pending</option>
        <option value="In Progress" {% if task.status == 'In Progress' %}selected{% endif %}>In Progress</option>
        <option value="Completed" {% if task.status == 'Completed' %}selected{% endif %}>Completed</option>
    </select>

    <button type="submit">Update Status</button>
</form>

{% endblock %}
